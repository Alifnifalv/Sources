@using Eduegate.Services.Contracts.Enums;
@model Eduegate.Framework.PageRendererEngine.ViewModels.BoilerPlateInfoViewModel
@*@model Eduegate.Web.Library.ViewModels.SearchListViewModel*@
@using Eduegate.Framework.Extensions;
@{
    Random rnd = new Random();
    var window = "window_DataList";
    var documentTypeID = Model.GetParameterValue<string>("DocumentTypeID");
    var title = Model.GetParameterValue<string>("Title");
    var viewID = Model.GetParameterValue<string>("ViewID");
    var cultureTitle = Model.GetParameterValue<string>("Title_" + System.Globalization.CultureInfo.CurrentCulture.TwoLetterISOLanguageName.ToLower());
    if (!string.IsNullOrEmpty(cultureTitle))
    {
        title = cultureTitle;
    }
    var metadata = Eduegate.Services.Client.Factory.ClientFactory.SearchServiceClient(new Eduegate.Framework.CallContext()
    {
        LanguageCode = System.Globalization.CultureInfo.CurrentCulture.TwoLetterISOLanguageName.ToLower(),
        CompanyID = 1
    }).SearchList((Eduegate.Services.Contracts.Enums.SearchView)int.Parse(viewID));

    var viewFullPath = metadata?.ViewFullPath;
    var viewName = metadata?.ViewName;
}

<div class="card card-flush h-xl-100">
    <div id="@window" template="_DashBoard_Data_List" ng-controller="DashboardController" ng-init="init(@Newtonsoft.Json.JsonConvert.SerializeObject(Model),'@window','@viewName')">
        @* <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">*@

        <div class="card-header border-0 pt-5">
            <h3 class="card-title align-items-start flex-column">
                <span class="card-label fw-bold text-dark">@title</span>

                @*<span class="text-muted mt-1 fw-semibold fs-7">8k social visitors</span>*@
            </h3>

            <!--begin::Toolbar-->
            <div class="card-toolbar">
                <button class="btn btn-sm btn-icon btn-color-gray-400 btn-active-color-primary justify-content-end"  ng-click="ClickFireEvent($event,'@viewFullPath','@title')">
                    ...
                </button>
            </div>
            <!--end::Toolbar-->
        </div>
        <div class="card-body">
            <div ng-repeat="x in DataResults" ng-show="DataResults.length > 0">
                <h3 style="color:burlywood" ng-bind-html="x.Title"></h3>
                <div ng-bind-html="x.SubTitle"></div>
                <div class="pull-right" ng-bind="x.Date">Date</div>
                <hr>
            </div>

        </div>
    </div>
</div>
