@using Eduegate.Services.Contracts.Enums;
@model Eduegate.Framework.PageRendererEngine.ViewModels.BoilerPlateInfoViewModel
@{
    Random rnd = new Random();
    var windowName = "window_StudentPortfolio";
    var documentTypeID = Model.GetParameterValue<string>("DocumentTypeID");
    var settingBL = new Eduegate.Domain.Setting.SettingBL(null);
    var imageHostURL = settingBL.GetSettingValue<string>("ImageHostUrl");
    var imagePath = string.Format("{0}/{1}", new Eduegate.Domain.Setting.SettingBL().GetSettingValue<string>("ImageHostUrl"), "StudentProfile");
}
<script type="text/javascript">

    utility.ImageUrl = "@imageHostURL";
</script>
<div id="@windowName" class="card mb-5 mb-xl-8 h-100 rounded-2" template="_SK_StudentPortfolio" ng-controller="DashboardController" ng-init="init(@Newtonsoft.Json.JsonConvert.SerializeObject(Model),'@windowName')">
    <script src="javascript/main.js"></script>


    <div class="card-header border-0 pt-5">
        <div class="text-center">
            <span class="text-gray-900 fs-8 d-block fw-normal ">Current date</span>
            <div class="fs-3 fw-semibold text-success" id="date"></div>
        </div>
        <div class="text-center">
            <span class="text-gray-900 fs-8 d-block fw-normal">Current time</span>
            <div class="fs-3 fw-semibold text-primary" id="time"></div>
        </div><div class="d-flex align-items-center flex-shrink-0 mb-0 mb-lg-0">
            <div class="d-flex align-items-center ms-3 ms-lg-4">
                <div class="btn  btn-color-gray-700 btn-active-color-primary btn-outline h-40px" ng-click="FillStudentJourney(StudentDetails.StudentIID,StudentDetails.StudentProfile);">
                    <i class="fa fa fa-clock-o fs-1" aria-hidden="true" title="View Student journey"></i>

                    student journey
                     </div>
            </div>
            <div class="d-flex align-items-center ms-3 ms-lg-4">
                <div class="btn btn-icon btn-color-gray-700 btn-active-color-primary btn-outline w-40px h-40px position-relative" ng-click="FillStudentInfo(StudentDetails.StudentIID);">
                                 <i class="fa fa-edit fs-1" aria-hidden="true" title="View/Edit Student Info"></i>

                </div>
            </div>
            <div class="d-flex align-items-center ms-3 ms-lg-4">
                <div class="btn btn-icon btn-color-gray-700 btn-active-color-primary btn-outline w-40px h-40px position-relative" ng-click="LoadStudentProfile(StudentDetails.StudentIID);">
                    <i class="fa fa-refresh fs-1" aria-hidden="true" title="Refresh Student Info"></i>


                </div>
            </div>
        </div>
       @*  <div class="col-md-3 text-center">
            <span class="editcolor" ng-click="FillStudentJourney(StudentDetails.StudentIID);">
                <i class="fa fa-eye" aria-hidden="true" title="View Student Journey"></i>
            </span>
            <span class="editcolor" ng-click="FillStudentInfo(StudentDetails.StudentIID);">
                <i class="fa fa-edit" aria-hidden="true" title="View/Edit Student Info"></i>
            </span>
            <span class="editcolor" ng-click="LoadStudentProfile(StudentDetails.StudentIID);">
                <i class="fa fa-refresh" aria-hidden="true" title="Refresh Student Info"></i>
            </span>
        </div>        *@
    </div>

    <div class="card-body">
        <div class="d-flex flex-column text-center mb-1 px-9">
            <div class="symbol symbol-80px symbol-lg-150px mb-1 symbol-circle">
                <img src="@imagePath//{{StudentDetails.StudentIID}}//Thumbnail//{{StudentDetails.StudentProfile}}" onerrorsrc="/Images/studentavatar.png" class="" alt="" style="    object-fit: cover;     object-position: right top;"> 
            </div>
            <div class="text-center">
                <a class="text-gray-800 fw-normal text-hover-primary fs-4">
                    {{StudentDetails.FirstName}}&nbsp;{{StudentDetails.MiddleName}}&nbsp;{{StudentDetails.LastName}}
                </a>
                <span class="text-muted d-block fw-semibold">
                    {{StudentDetails.AdmissionNumber}}
                </span>
            </div>
        </div>
        <div class="row px-9 mb-4">
            <!--begin::Col-->
            @*Comented Temporory*@
            @*<div class="col-md-6 text-center">
            <div class="text-gray-800 fw-normal fs-3">
            <span class="m-0 counted">{{UserProfile.DateOfBirthString}}</span>
            </div>

            <span class="text-gray-900 fs-8 d-block fw-normal">DOB</span>
            </div>*@

            <!--end::Col-->
        </div>
        <!--end::Row-->
        <!--begin::Navbar-->
        <div class="m-0">
            <div class="d-flex">
                <div class="rounded min-w-100px w-100 py-2 px-4 mb-3 bg-light-primary">
                    <span class="fs-8 text-gray-600 fw-normal">Class</span>
                    <div class="fw-semibold text-gray-900">{{StudentDetails.StudentClass.Value}}</div>
                </div>
            </div>
            <div class="d-flex">
                <div class="  rounded min-w-100px w-100 py-2 px-4 me-3 mb-3 bg-light-primary">
                    <span class="fs-8 text-gray-600 fw-normal">Section</span>
                    <div class="fw-semibold text-gray-900">{{StudentDetails.Section.Value}} </div>
                </div>
                <div class="  rounded min-w-100px w-100 py-2 px-4    bg-light-primary mb-3">
                    <span class="fs-8 text-gray-600 fw-normal">DOB</span>
                    <div class="fw-semibold text-gray-900">   {{StudentDetails.DateOfBirthString}}</div>
                </div>
            </div>
            <div class="d-flex">
                <div class="  rounded min-w-100px w-100 py-2 px-4 me-3  bg-light-primary mb-3">
                    <span class="fs-8 text-gray-600 fw-normal">Blood Group</span>
                    <div class="fw-semibold text-gray-900">  {{StudentDetails.BloodGroup.Value}}</div>
                </div>
                <div class="  rounded min-w-100px w-100 py-2 px-4  bg-light-primary mb-3">
                    <span class="fs-8 text-gray-600 fw-normal">House</span>
                    {{StudentDetails.StudentHouse.Value}}
                    <div class="fw-semibold text-gray-900"></div>
                </div>
            </div>
            <div class="d-flex">
                <div class="  rounded min-w-100px w-100 py-2 px-4  bg-light-primary mb-3">
                    <span class="fs-8 text-gray-600 fw-normal">Religion</span>
                    <div class="fw-semibold text-gray-900"> - {{StudentDetails.Relegion.Value}}</div>
                </div>





                @*Commented temperory*@
                <!--<li class="nav-item mt-5">
                <a class="nav-link text-muted text-active-primary ms-0 py-0 me-10 ps-9 border-0 active">
                    <i class="ki-duotone ki-row-horizontal fs-3 text-muted me-3"><span class="path1"></span><span class="path2"></span></i>

                    {{UserProfile.WorkMobileNo}}-->
                <!--begin::Bullet-->
                <!--<span class="bullet-custom position-absolute start-0 top-0 w-3px h-100 bg-primary rounded-end"></span>-->
                <!--end::Bullet-->
                <!--</a>
                </li>-->
                <!--end::Navbar-->
            </div>
            <!--end::Body-->


            <script>
                // Function to display current date and time
                function displayDateTime() {
                    // Create a new Date object
                    var currentDate = new Date();

                    // Get the current date and time
                    var date = currentDate.toDateString();
                    var time = currentDate.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });

                    // Extract the am/pm part from the time string
                    const ampm = time.slice(-2);

                    // Remove the am/pm part from the time string
                    time = time.slice(0, -3);

                    // Update the HTML elements with the current date and time
                    document.getElementById("date").innerHTML = date;
                    document.getElementById("time").innerHTML = time + " " + ampm;
                }

                // Call the displayDateTime function every second
                setInterval(displayDateTime, 1000);
            </script>
        </div>
    </div>
</div>
