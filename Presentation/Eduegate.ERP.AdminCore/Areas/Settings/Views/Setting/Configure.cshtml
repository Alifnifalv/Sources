@model List<Eduegate.Web.Library.ViewModels.SettingConfigureGroupViewModel>
@{
    Layout = null;
}

<div id="ScreenConfigure" class="windowcontainer" ng-controller="SettingController" ng-init="Init(@Newtonsoft.Json.JsonConvert.SerializeObject(Model), 'ScreenConfigure')">
    <div class="window-tab preload-overlay" style="display:block;">
        <div class="preloader"><img src="/Images/preloader.GIF" width="32" height="32" alt="Loading" /></div>
    </div>
    @await Html.PartialAsync("~/Views/Shared/_InfoMessage.cshtml")
    <div class="pageheadername">
        <div>Global Settings</div>
        @*<div class="alignright menugroup">
                <div class="createprodlink button-orange alignright"><a href="" title="Save Changes"><span>Save Changes</span></a></div>
            </div>*@
    </div>
    <div class="pagecontent">
        <div class="producttab">
            <div class="settings">
                <div class="settings-sublist toggleview" ng-repeat="group in SettingModel" >
                    <h4 class="settings-subtitle active" ng-click="TitleClick($event)">{{group.GroupName}}</h4>
                    <div class="sublist-grid fullwidth alignleft" style="display: block;">
                        <table cellpadding="0" cellspacing="0" class="grid">
                            <thead>
                                <tr>
                                    @* <th class="ex-small-col-width textleft">Company</th> *@
                                    @* <th class="ex-small-col-width textleft">Site</th> *@
                                    <th class="large-col-width textleft">Code</th>
                                    <th class="large-col-width textleft">Description</th>
                                    <th class="large-col-width textleft">Value</th>
                                    <th class="medium-col-width textleft"></th>
                                    <th class="small-col-width textleft"></th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="setting in group.Settings">
                                    @* <td class="ex-small-col-width textleft">{{setting.CompanyID}}</td> *@
                                    @* <td class="ex-small-col-width textleft">{{setting.SiteID}}</td> *@
                                    <td class="large-col-width textleft">
                                        {{setting.SettingCode}}
                                    </td>
                                    <td class="large-col-width textleft">
                                        {{setting.Description}}
                                    </td>
                                    <td class="large-col-width textleft">
                                        <input ng-change="setting.IsDirty = true" ng-if="setting.ValueType == 'String' || setting.ValueType == '' || setting.ValueType == null" type="text" ng-model="setting.SettingValue" />
                                        <input ng-change="setting.IsDirty = true" ng-if="setting.ValueType == 'Dropdown'" type="text" ng-model="setting.SettingValue" />
                                        <textarea ng-change="setting.IsDirty = true" ng-if="setting.ValueType == 'Text'" type="text" ng-model="setting.SettingValue"></textarea>
                                    </td>
                                   
                                    <td class="medium-col-width textleft"><div class="createprodlink button-orange alignright"><a ng-disabled="!setting.IsDirty" ng-click="SaveChanges(setting)">Save</a></div></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>