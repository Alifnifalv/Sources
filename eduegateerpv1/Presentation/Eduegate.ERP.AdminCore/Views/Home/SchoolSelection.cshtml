    @* @model Eduegate.ERP.Admin.Models.SchoolSelectionViewModel *@

    @{
    var theme = Context.Request.Query["theme"];
    string cultureCode = "en";

    if (string.IsNullOrEmpty(theme))
    {
        theme = "blue";
    }

    var layout = Context.Request.Query["layout"];

    if (string.IsNullOrEmpty(layout))
    {
        layout = "multi";
    }

    if (ViewBag.CultureCode != null)
    {
        cultureCode = ViewBag.CultureCode;
    }
    var settings = Eduegate.Services.Client.Factory.ClientFactory.SettingServiceClient(null);
    // var companyID = (ViewBag.CallContext as Eduegate.Framework.CallContext).CompanyID;

    // var schoolID = (ViewBag.CallContext as Eduegate.Framework.CallContext).SchoolID;
    // var academicYearID = (ViewBag.CallContext as Eduegate.Framework.CallContext).AcademicYearID;

    var clientName = new Eduegate.Domain.FrameworkSettingBL(null).GetSettingValue<string>("CLIENTINSTANCE");

        ViewBag.Title = "SchoolSelection";
        Layout = null;

    }

@{
    ViewBag.Title = "Reset Password";
    Random rnd = new Random();
    var windowName = "window_" + rnd.Next().ToString();
}

<html lang="en" ng-app="Eduegate.ERP.Admin">
<head>

    <link rel="stylesheet" href="~/Content/jquery-ui.css" />
    @* <link rel="stylesheet" href="~/Content/bootstrap.min.css" /> *@
    <link rel="stylesheet" href="~/Content/jquery.datetimepicker.min.css" />
    <link rel="stylesheet" href="~/Content/angular-round-progress-bar.min.css" />

    <link rel="stylesheet" href="~/Content/jquery-bootstrap-datepicker.css" />
    <link rel="stylesheet" href="~/Content/modal-popup.css" />
    <link rel="stylesheet" href="~/Content/bootstrap.min.css" />
   
    <script src="~/Scripts/angular.js"></script>
    <script src="~/Scripts/jquery-3.6.0.js"></script>

    <script src="~/app/app.js"></script>



    <script src="~/Scripts/jquery.validate.js"></script>
    <script src="~/Scripts/jquery.validate.unobtrusive.js"></script>
    <script src="~/Scripts/jquery.validate.unobtrusive.custom.js"></script>
    <script src="~/Scripts/jquery.validate.unobtrusive.custom.js"></script>
    <script src="~/app/Common/CustomValidation.js"></script>
    <script src="~/Scripts/jquery.signalR-2.2.2.min.js"></script>

    <script src="~/Scripts/bootstrap.bundle.js"></script>
    <script src="~/Scripts/respond.js"></script>

    <script src="~/Scripts/angular-route.js"></script>
    <script src="~/Scripts/angular-animate.js"></script>
    <script src="~/Scripts/angular-sanitize.js"></script>
    <script src="~/Scripts/i18n/angular-locale_en.js"></script>
    <script src="~/Scripts/tmhDynamicLocale.js"></script>
    <script src="~/Scripts/angular-filter.min.js"></script>

    <!-- The library to replace with your local copy of ng-weekly-scheduler -->
    <script src="@Url.Content("~/Scripts/ng-weekly-scheduler.js")"></script>
    <script src="@Url.Content("~/Scripts/daypilot-all.min.js")"></script>


    <script src="~/app/controller/Accounts/SchoolSelectionController.js"></script>

    

    <script src="~/Scripts/jquery.waypoints.min.js"></script>
    <script src="~/Scripts/moment.min.js"></script>
    <script src="~/Scripts/angular-moment.js"></script>
    <script src="~/Scripts/angular-moment.min.js"></script>
    <script src="~/Scripts/daterangepicker.js"></script>
    <script src="~/Scripts/jquery.datetimepicker.full.min.js"></script>
    <script src="~/Scripts/select.js"></script>
    <script src="~/Scripts/jquery-ui.js"></script>
    <script src="~/Scripts/jquery.ui.touch-punch.min.js"></script>
    <script src="~/Scripts/Custom.js"></script>
    <script src="~/Scripts/dropzone.js"></script>
    <script src="~/Scripts/zebra_datepicker.js"></script>
    <script src="~/Scripts/date.js"></script>
    <script src="~/Scripts/excanvas.js"></script>
    <script src="~/Scripts/jquery.signature.js"></script>
    <script src="~/Scripts/interact.js"></script>
    <script src="~/Scripts/rrule/rrule.js"></script>
    <script src="~/Scripts/angular-ui/ui-bootstrap-tpls.js"></script>
    <script src="~/Scripts/boostrapcolorpicker/bootstrap-colorpicker-module.js"></script>
    <script src="~/Scripts/calendar/angular-bootstrap-calendar.js"></script>
    <script src="~/Scripts/underscore-min.js"></script>
    <script src="~/Scripts/shortcut.js"></script>
    <script src="~/lib/bootstrap-5.1.3-dist/js/bootstrap.bundle.min.js"></script>
   
    <script src="~/app/Common/utility.js"></script>
    <script src="~/Scripts/JSLINQ.js"></script>

    <script src="~/Scripts/JSLINQ.js"></script>
    <script src="~/Scripts/toaster.js"></script>

    <link href="https://fonts.googleapis.com/css2?family=Lexend+Deca:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet">


    <script src="~/Scripts/ng-map.min.js" type="text/javascript"></script>


    <script src="~/Scripts/flickity.pkgd.min.js"></script>
    <script src="~/Scripts/angular-flickity.js"></script>
    <script src="~/Scripts/flickity-transformer.pkgd.min.js"></script>


    <link rel="stylesheet" href="~/Content/flickity.min.css" />
    <link rel="stylesheet" href="~/Content/main.css" />
    </head>
<body ng-controller="SchoolSelectionController" class="app-blank bgi-size-contain bgi-attachment-fixed bgi-position-start bgi-no-repeat">
    <style>
/*         body {
            background-image: url(../Images/mesh.svg);
        } */

        .auth-bg {
            background-image: url(../Images/mesh.svg);
        }
    </style>
    <div ng-init="Init();" class=" auth-bg bgi-size-cover bgi-attachment-fixed bgi-position- bgi-no-repeat w-100 h-100 opacity-50 position-absolute bottom-0" style="z-index:-1;">

    </div>
<div id="@windowName" class="d-flex flex-column flex-root" data-bs-theme="light" >
        <div class="page d-flex flex-row flex-column-fluid" >
            <div class="wrapper d-flex flex-column flex-row-fluid">
                <div  class="header">
                    <div class="header-top d-flex align-items-stretch flex-grow-1 h-60px h-lg-100px">
                        <div class="container-custom  p-20 d-flex w-100">
                            <div class="d-flex flex-stack align-items-stretch w-100">
                                <div class="d-flex align-items-center align-items-lg-stretch me-5">
                                    <a class="d-flex align-items-center">
                                        <img alt="Logo" src="~/Images/eduegate-logo.png" class="h-50px h-lg-60px">
                                    </a>
                                </div>
                                <div class="d-flex align-items-center align-items-lg-stretch me-5">
                                    <a class="d-flex align-items-center">
                                        <img alt="Logo" src="~/Clients/@clientName/Images/logo/PODARLOGO-01.png" class="h-25px h-lg-30px">
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
     
                <div class="  d-flex flex-column-fluid">
                    <div class="content d-flex flex-row flex-row-fluid">
                        <div class="Slider" id="demo-slider" >
                            <div class="Slide" ng-repeat="item in SchoolsProfileWithAcademicYear track by $index">
                                <div class="slide-inner" style="background-image:url('/Content/ReadContentsByID?contentID={{item.ProfileContentID}}'), url('/Images/bg-creative.svg')">
                                    <div class="info-section w-100">
                                        <div class="form-group d-flex flex-column p-5">
                                            <div class="d-flex flex-column mb-3">
                                                <div class="fs-7 fw-bold text-grey-200">
                                                    {{item.SchoolName}}
                                                </div>
                                            </div>
                                            <div class="d-flex justify-content-end">
                                                <div >
                                                        @* <label class="">@Eduegate.ERP.Admin.Globalization.ResourceHelper.GetValue("Academic Year")</label> *@
                                                    <select class="form-select validate" required="" aria-required="true" name="AcademicYear" id="{{item.Key}}"
                                                            ng-options="acy as acy.Value for acy in item.AcademicYears track by acy.Key"
                                                                ng-model="acy" autofocus=autofocus tabindex="0" ng-change="AcademicYearChanges(acy,item)">
                                                        </select>
                                                        <i class="dropdownarrow fa fa-caret-down"></i>
                                                    </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <button class="btn btn-primary app-layout-builder-toggle lh-1 py-4 w-200px" id="SchoolSelect" data-bs-toggle="tooltip" title="Click me to see the tooltip!" ng-click="SaveSchool()">
                        <i class="ki-outline ki-setting-4 fs-4 me-1"></i> Select
                    </button>
                    <div class="toast-container position-absolute top-50 start-50 translate-middle p-4">
                        <div id="liveToast" class="toast  align-items-center text-bg-primary border-0 bg-danger" role="alert" aria-live="assertive" aria-atomic="true">
                            <div class="d-flex">
                                <div class="toast-body text-center fs-4">
                                    Please select an Academic Year
                                </div>
                                <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
                            </div>
                        </div>
                    </div>
                </div>

             <style>
                    .app-layout-builder-toggle {
                        position: fixed;
                        z-index: 105;
                        bottom: 60px;
                        left: 50%;
                        transform: translate(-50%, 0);
                    }
             </style>
            </div>
        </div>
    </div>
</body>
</html>

          



