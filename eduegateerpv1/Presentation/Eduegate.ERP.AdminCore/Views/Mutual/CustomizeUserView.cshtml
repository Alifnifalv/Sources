@model  Eduegate.Web.Library.ViewModels.Common.UserViewCustomizeViewModel

@{
    Layout = null;
}

<div id="customizeView" class="popup gridsettings" data-popup-type="gridsettings" ng-controller="ViewCustomizeController" ng-init="Init('@Model.SearchView')">
    <div class="popup-wrap">
        <form action="" method="post" name="">
            <span class="close" ng-click="Close()">X</span>
            <div class="productcreteheader">Customize - @Model.SearchView List</div>
            <div class="gs-left alignleft">
                <div class="title">Select Options</div>
                <ui-select multiple style="width: 100%;" ng-model="SelectedColumn" theme="select2" class="pos-txt" ng-change="OnChangeSelect2('SelectedColumn.ValueField', 'SelectedColumn.DataType', $select, 'multiple');">
                    <ui-select-match placeholder="Search">{{$item.Value}}</ui-select-match>
                    <ui-select-choices repeat="data in AvailableColumns | filter:$select.search">{{data.Value}}</ui-select-choices>
                </ui-select>
            </div>
            <div class="gs-right alignright">
                <div class="title">Properties</div>
                <ul>
                    <li>
                        <span class="prop-head show"><i class="fa fa-caret-right"></i> Settings</span>
                        <ul>
                            <li><label>Default</label> <span><select><option>True</option><option>False</option></select></span></li>
                            <li><label>Visible</label> <span><select><option>True</option><option>False</option></select></span></li>
                            <li><label>Sortable</label> <span><select><option>True</option><option>False</option></select></span></li>
                            @*<li><label>Quick Searchable</label> <span><select><option>True</option><option>False</option></select></span></li>*@
                        </ul>
                    </li>
                    <li>
                        <span class="prop-head show"><i class="fa fa-caret-right"></i> Cell Styles</span>
                        <ul>
                            <li><label>Background Color</label> <span><input type="text" /></span></li>
                            <li><label>Width</label> <span><input type="text" /></span></li>
                            <li><label>Text Align</label> <span><select><option>Left</option><option>Center</option><option>Right</option></select></span></li>
                        </ul>
                    </li>
                    <li>
                        <span class="prop-head show"><i class="fa fa-caret-right"></i> Font Styles</span>
                        <ul>
                            <li><label>Font Size</label> <span><input type="text" /></span></li>
                            <li><label>Font Color</label> <span><input type="text" /></span></li>
                            <li><label>Text Transform</label> <span><select><option>None</option><option>Capitalize</option><option>Uppercase</option><option>Lowercase</option></select></span></li>
                        </ul>
                    </li>
                </ul>
            </div>
            <div class="button-wrap clearfix">
                <div class="viewlistname"><label>View list Name:</label><span><input type="text" /></span></div>
                <div class="button-dropdown button-orange alignright">
                    <div>
                        <input type="submit" value="Save"><span class="icon slide"><i class="fa fa-sort-desc"></i></span>
                        <ul>
                            <li><input type="submit" value="Save As"></li>
                        </ul>
                    </div>
                </div>
            </div>
        </form>
    </div>
</div>

<script>
    //TODO Move to angular controller
    $(document).ready(function () {
        var xpos = $("#customizeView").outerWidth() / 2;
        var ypos = $("#customizeView").outerHeight() / 2;
        $("#customizeView").css({ 'margin-top': '-' + ypos + 'px', 'margin-left': '-' + xpos + 'px' });

        $("#customizeView").fadeIn(500);
        $("#customizeView").addClass('show');
        $('.gs-right ul li ul').slideDown(200);
        $('.prop-head').on('click', function () {
            $(this).toggleClass('show');
            if ($(this).hasClass('show')) {
                $(this).closest('li').find('ul').slideDown(200);
            }
            else {
                $(this).closest('li').find('ul').slideUp(200);
            }
        });

        $('#customizeView').draggable({
            handle: '.productcreteheader',
            containment: ".bodyrightmain"
        });
        $('.button-dropdown .slide').on('click', function () {
            $(this).parents('div.button-dropdown').find('ul').slideToggle('fast');
        });
        $('body').on('click', function (e) {
            if ($(e.target).closest('.button-dropdown').length === 0) {
                $('.button-dropdown ul').slideUp('fast');
            }
        });
    });
</script>