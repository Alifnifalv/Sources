
@model Eduegate.Web.Library.School.Transports.TransportApplicationViewModel

@{
    ViewBag.Title = "StudentTransportRequestApplication";
    Layout = "~/Views/Shared/_Layout.cshtml";
}


<script type="text/javascript" src="StudentTransportRequestListController.js"></script>

<div class="bg-light d-flex flex-column" style="flex:1;" ng-controller="StudentTransportRequestController" ng-init="init(@Newtonsoft.Json.JsonConvert.SerializeObject(Model))">
    <section class="home-section-wrap">
        <div class="container">
            <div class="row row-eq-height">
                <!-- Nav tabs -->
                <!-- Tab panes -->

                <div class="tab-pane  fontawesome-demo">
                    <div class="container-custom container-xxl d-flex flex-column-fluid  p-md-sm-0">
                        <div class="content d-flex flex-row flex-row-fluid" id="kt_content">
                            <div class="d-flex flex-column flex-row-fluid">
                                <div class="d-flex flex-stack flex-wrap gap-2 mt-n1 mb-6" id="kt_toolbar">
                                    <div class="page-title d-flex flex-column align-items-start me-3 py-2 py-lg-0 gap-2">
                                        <h1 class="d-flex text-dark fw-bold m-0 fs-3">New Transport Application</h1>
                                        <ul class="breadcrumb breadcrumb-dot fw-semibold text-gray-600 fs-7">
                                            <li class="breadcrumb-item text-gray-600">
                                                <a class="text-gray-600 text-hover-primary" href="~/Home/MyWards">Home</a>
                                            </li>
                                            <li class="breadcrumb-item text-gray-500">New Transport Application</li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="flex-column-fluid">
                                    <div class="row g-5 g-lg-8 mb-5 mb-xl-0">

                                        <div class="content d-flex flex-row flex-row-fluid">
                                            <div class="d-flex flex-column flex-row-fluid">
                                                <form ng-if="Applications.ApplicationNumber != ''">
                                                    <div class="mb-3 form-group col-md-auto col-12 center">
                                                        <label for="exampleFormControlInput1" class="form-label pull-m12"><b style="color:brown">Application Number <br />{{Applications.ApplicationNumber}}</b></label>
                                                    </div>
                                                </form>

                                                <div ng-repeat="data in Applications.TransportApplicationStudentMaps"
                                                     ng-init="current = $parent.start; $parent.start=$parent.start+1;"
                                                     class="col-xl-12 mb-xl-8">
                                                    <div class="card">

                                                        <div class="card-body">

                                                            <form>
                                                                <div class="row align-items-center g-3">
                                                                    <input type="hidden" class="form-control" id="TransportApplctnStudentMapIID" name="TransportApplctnStudentMapIID" value="{{data.TransportApplctnStudentMapIID}}" ng-model="data.TransportApplctnStudentMapIID" />
                                                                    <input type="hidden" class="form-control" id="TransportApplicationID" name="TransportApplicationID" value="{{data.TransportApplicationID}}" ng-model="data.TransportApplicationID" />
                                                                    <div class="form-check form-check-custom form-check-solid">
                                                                        <div class="form-check  col-md-auto col-12">
                                                                            <input class="form-check-input" type="checkbox" ng-model="data.CheckBoxStudent" id="CheckBoxStudent{{current}}">

                                                                            <label class="form-check-label" for="CheckBoxStudent{{current}}" style="color:maroon">
                                                                                Please Tick to Submit Student Transport Application
                                                                            </label>
                                                                        </div>
                                                                    </div>

                                                                    <div class="w-100"></div>
                                                                    <div class="mb-3 col-md-auto col-12">
                                                                        <label for="exampleFormControlInput1" class="form-label">FIRST NAME</label>
                                                                        <input type="hidden" class="form-control" id="StudentID" name="StudentID" value="{{data.StudentID}}" ng-model="data.StudentID" />
                                                                        <input class="form-control" type="text" ng-model="data.FirstName" readonly />
                                                                    </div>
                                                                    <div class="mb-3 form-group col-md-auto col-12">
                                                                        <label for="exampleFormControlInput1" class="form-label">LAST NAME</label>
                                                                        <input type="hidden" class="form-control" id="MiddleName" name="MiddleName" value="{{data.MiddleName}}" ng-model="data.MiddleName" />
                                                                        <input class="form-control" type="text" ng-model="data.LastName" readonly />
                                                                    </div>
                                                                    <div class="mb-3 col-md-auto col-12">
                                                                        <label for="exampleFormControlInput1" class="form-label">GRADE</label>
                                                                        <input type="hidden" class="form-control" id="SchoolID" name="SchoolID" value="{{data.SchoolID}}" ng-model="data.SchoolID" />
                                                                        <input type="hidden" class="form-control" id="ClassID" name="ClassID" value="{{data.Class.Key}}" ng-model="data.Class.Key" />
                                                                        <input class="form-control" type="text" ng-model="data.ClassName" readonly />
                                                                    </div>
                                                                    <div class="mb-3 col-md-auto col-12">
                                                                        <label for="exampleFormControlInput1" class="form-label">GENDER</label>
                                                                        <input type="hidden" class="form-control" id="GenderID" name="GenderID" value="{{data.GenderID}}" ng-model="data.GenderID" />
                                                                        <input class="form-control" type="text" ng-model="data.Gender" readonly />
                                                                    </div>
                                                                    <div class="mb-3 col-md-auto col-12">
                                                                        <label for="exampleFormControlInput1" class="form-label">START DATE</label>
                                                                        @*<input type="date" placeholder="Start Date" ng-model="data.StartDateString" id="StartDateString" name="StartDateString" class="form-control" value={{data.StartDateString}} />*@
                                                                        <input type="date" placeholder="Start Date" required="" ng-model="data.StartDateString" id="StartDateString" name="StartDateString" class="form-control" value={{data.StartDateString}} />
                                                                        @*<input type="date" class="form-control date" id="StartDate" value={{data.StartDateString}} />*@
                                                                    </div>
                                                                    <div class="w-100"></div>
                                                                    <div class="form-check form-check-custom form-check-solid" ng-if="data.IsNewRider == true" style="opacity:0; position:absolute; left:9999px;">
                                                                        <div class="form-check  col-md-auto col-12">
                                                                            <input class="form-check-input" type="checkbox"  ng-model="data.IsNewRider" id="IsNewRider{{current}}">

                                                                            <label class="form-check-label" for="IsNewRider{{current}}" style="color:maroon">
                                                                                New rider
                                                                            </label>
                                                                        </div>
                                                                    </div>
                                                                    <div class="form-check form-check-custom form-check-solid" ng-if="data.IsNewRider != true" style="opacity:0; position:absolute; left:9999px;">
                                                                        <div class="form-check  col-md-auto col-12">
                                                                            <input class="form-check-input" type="checkbox"  ng-model="data.LocationChange" id="LocationChange{{current}}" ng-bind="data.LocationChange">

                                                                            <label class="form-check-label" for="LocationChange{{current}}" style="color:maroon">
                                                                                Location change
                                                                            </label>
                                                                        </div>
                                                                    </div>

                                                                    @*<div class="form-check col-md-auto col-12">
                                                                            <input class="form-check-input" type="checkbox" ng-model="data.IsActive">
                                                                            <label class="form-check-label" for="exampleFormControlInput1">
                                                                                IS ACTIVE
                                                                            </label>
                                                                        </div>*@
                                                                    <div class="w-100"></div>
                                                                    @*<div class="mb-3 col-md-auto col-12">
                                                                        <label for="exampleFormControlInput1" class="form-label">Does your child have a medical condition</label>
                                                                        <input type="radio" id="Yes" name="MedicalCondition" value="Yes" ng-click="ChangeMedicalCondition(data)">
                                                                        <label for="Yes">Yes</label>
                                                                        <input type="radio" id="No" name="MedicalCondition" value="No" ng-click="ChangeMedicalCondition(data)">
                                                                        <label for="No">No</label><br>
                                                                        </div>*@                                                      <div class="form-check form-check-custom form-check-solid">
                                                                        <div class="form-check  col-md-auto col-12">
                                                                            <input class="form-check-input" type="checkbox" ng-model="data.IsMedicalCondition" id="IsMedicalCondition{{curret}}">

                                                                            <label class="form-check-label" for="IsMedicalCondition{{current}}" style="color:maroon">
                                                                                Does your child have a medical condition
                                                                            </label>
                                                                        </div>
                                                                    </div>


                                                                    <div class="col-12">
                                                                        <label for="exampleFormControlInput1{{current}}" class="form-label">If Yes,Please explain</label>
                                                                        <textarea class="form-control" ng-model="data.Remarks" id="Remarks{{current}}"></textarea>
                                                                    </div>
                                                                </div>
                                                            </form>
                                                        </div>
                                                    </div>
                                                </div>

                                            </div>
                                        </div>
                                        <div class="content d-flex flex-row flex-row-fluid">
                                            <div class="card">

                                                <div class="card-body">
                                                    <form>
                                                        <div class="row align-items-center g-3">
                                                            <p class="h5">FATHER</p>
                                                            <input type="hidden" class="form-control" id="TransportApplicationIID" name="TransportApplicationIID" value="{{Applications.TransportApplicationIID}}" ng-model="Applications.TransportApplicationIID" />
                                                            <input type="hidden" class="form-control" id="ApplicationNumber" name="ApplicationNumber" value="{{Applications.ApplicationNumber}}" ng-model="Applications.ApplicationNumber" />
                                                            <div class="mb-3 form-group col-md-auto col-12">
                                                                <label for="exampleFormControlInput1" class="form-label">NAME</label>
                                                                <input type="hidden" class="form-control" id="LoginID" name="LoginID" value="{{Applications.LoginID}}" ng-model="Applications.LoginID" />
                                                                <input class="form-control" type="text" ng-model="Applications.FatherName" readonly/>
                                                            </div>
                                                            <div class="mb-3 form-group col-md-auto col-12">
                                                                <label for="exampleFormControlInput1" class="form-label">EMAIL ADDRESS</label>
                                                                <input type="email" class="form-control" ng-model="Applications.FatherEmailID" id="FatherEmailID" readonly/>
                                                            </div>
                                                            <div class="mb-3 form-group col-md-auto col-12">
                                                                <label for="exampleFormControlInput1" class="form-label">MOBILE AND HOME PHONE</label>
                                                                <input type="text" class="form-control" ng-model="Applications.FatherContactNumber" id="FatherContactNumber" readonly/>
                                                            </div>

                                                            <p class="h5">MOTHER</p>

                                                            <div class="mb-3 form-group col-md-auto col-12">
                                                                <label for="exampleFormControlInput1" class="form-label">NAME</label>
                                                                <input type="hidden" class="form-control" id="ParentID" name="ParentID" value="{{Applications.ParentID}}" ng-model="Applications.ParentID" />
                                                                <input type="text" class="form-control" ng-model="Applications.MotherName" readonly/>
                                                            </div>
                                                            <div class="mb-3 form-group col-md-auto col-12">
                                                                <label for="exampleFormControlInput1" class="form-label">EMAIL ADDRESS</label>
                                                                <input type="email" class="form-control" ng-model="Applications.MotherEmailID" id="MotherEmailID" readonly/>
                                                            </div>
                                                            <div class="mb-3 form-group col-md-auto col-12">
                                                                <label for="exampleFormControlInput1" class="form-label">MOBILE AND HOME PHONE</label>
                                                                <input type="text" class="form-control" ng-model="Applications.MotherContactNumber" id="MotherContactNumber" readonly/>
                                                            </div>
                                                            <p class="h5">EMERGENCY CONTACT</p>

                                                            <div class="mb-3 form-group col-md-auto col-12">
                                                                <label for="exampleFormControlInput1" class="form-label">EMAIL ADDRESS</label>
                                                                <input type="text" class="form-control" ng-model="Applications.EmergencyEmailID" />
                                                            </div>
                                                            <div class="mb-3 form-group col-md-auto col-12">
                                                                <label for="exampleFormControlInput1" class="form-label">MOBILE AND HOME PHONE</label>
                                                                <input type="text" class="form-control" required ng-model="Applications.EmergencyContactNumber" id="EmergencyContactNumber"/>
                                                            </div>

                                                            <p class="h5">LOCATION</p>
                                                            @*<p>
                                                                    If Necessary,please draw or sketch a map of your exact location on
                                                                    space provided, or attach a map ( from google earth print - out).
                                                                </p>*@

                                                            <div class="mb-3 form-group col-md-auto col-12">
                                                                <label for="exampleFormControlInput1" class="form-label">LOCATION NAME</label>
                                                                <input type="text" class="form-control" required ng-model="Applications.LocationName" id="LocationName" />
                                                            </div>
                                                            <div class="mb-3 form-group col-md-auto col-12">
                                                                <label for="exampleFormControlInput1" class="form-label">BUILDING NUMBER</label>
                                                                <input class="form-control" type="text" required ng-model="Applications.Building_FlatNo" id="Building_FlatNo" />
                                                            </div>
                                                            <div class="mb-3 form-group col-md-auto col-12">
                                                                <label for="exampleFormControlInput1" class="form-label">STREET NUMBER</label>
                                                                <input class="form-control" type="text" required ng-model="Applications.StreetNo" id="StreetNo" />
                                                            </div>
                                                            <div class="mb-3 form-group col-md-auto col-12">
                                                                <label for="exampleFormControlInput1" class="form-label">ZONE NUMBER</label>
                                                                <input class="form-control" type="text" required ng-model="Applications.ZoneNo" id="ZoneNo" />
                                                            </div>
                                                            <div class="mb-3 form-group col-md-auto col-12">
                                                                <label for="exampleFormControlInput1" class="form-label">LAND MARK</label>
                                                                <input class="form-control" type="text" required ng-model="Applications.LandMark" id="LandMark" />
                                                            </div>
                                                            <div class="col-12 mb-3">
                                                                <label for="exampleFormControlInput1" class="form-label">Remarks</label>
                                                                <textarea class="form-control" ng-model="Applications.Remarks" id="Remarks" placeholder="If any Remarks . Please text here.." style="height: 100px"></textarea>
                                                            </div>
                                                            @*<div class="mb-3 form-group col-md-auto col-12">
                                                                 <label for="exampleFormControlInput1" class="form-label">Campus</label>
                                                                 <select class="form-select form-control validate" required="" aria-required="true" name="School" id="School"
                                                                         ng-options="item as item.Value for item in Schools track by item.value" ng-model="School"></select>
                                                                </div>*@

                                                            <div class="form-check form-check-custom form-check-solid">
                                                                <div class="form-check  col-md-auto col-12">
                                                                    <input class="form-check-input" type="checkbox" ng-model="data.TransportTerms" id="TransportTerms">

                                                                    <label class="form-check-label" for="TransportTerms">
                                                                        Transport once allocated, minimum one month fee will be payable even if it is not used at all.
                                                                    </label>
                                                                </div>
                                                            </div>
                                                            <div class="form-check form-check-custom form-check-solid">
                                                                <div class="form-check  col-md-auto col-12">
                                                                    <input class="form-check-input" type="checkbox" ng-model="data.TermsAndConditions" id="TermsAndConditions">

                                                                    <label class="form-check-label" for="TermsAndConditions">
                                                                        I have read & agreed to the terms and conditions.
                                                                    </label>
                                                                </div>
                                                            </div>
                                                            <div>
                                                                <marquee style="color:red">Please note any new transport request/change will take max 5 working days to take effect from the date of submission</marquee>
                                                            </div>
                                                            <button type="submit" id="SubmitapplicationBtn" name="action" class="btn btn-danger btn-dark col-md-12" ng-click="SubmitTransportApplicationClick()">Submit</button>
                                                        </div>
                                                    </form>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="content d-flex flex-row flex-row-fluid">
                                            <div class="card">

                                                <div class="card-body">
                                                    <div class=" pb-lg-20">
                                                        <!--begin::Title-->
                                                        <h2 class="fw-bold text-dark mb-8">
                                                            School transportation rules and regulations
                                                        </h2>
                                                        <!--end::Title-->
                                                        <!--begin::List-->
                                                        <ul class="fs-5 fw-semibold mb-6 ms-4" style="text-align: justify; text-justify: inter-word;">
                                                            <li>
                                                                <span class="text-gray-700">
                                                                    Provision of transport is a privilege, not a right.
                                                                </span>
                                                            </li>
                                                            <li class="my-2">
                                                                <span class="text-gray-700">
                                                                    Not using the school transport in between a term will not exempt the user from paying the transport fee for that term in full term.
                                                                </span>
                                                            </li>
                                                            <li class="my-2">
                                                                <span class="text-gray-700">
                                                                    Students should arrive at the pickup point approximately 5 minutes prior to the scheduled pick-up time. Bus will not wait for any student if the child is not at the bus stop at the assigned time. If a child misses the bus, the parents must drop the child to the school.
                                                                </span>
                                                            </li>
                                                            <li class="my-2">
                                                                <span class="text-gray-700">
                                                                    Students are required to wear seat belt and remain seated at all times in a disciplined manner. In case of indiscipline, warnings may be issued which may lead to discontinuance of the service.
                                                                </span>
                                                            </li>
                                                            <li class="my-2">
                                                                <span class="text-gray-700">
                                                                    All parents are requested to save drivers telephone numbers and check the website regularly for updates.
                                                                </span>
                                                            </li>
                                                            <li class="my-2">
                                                                <span class="text-gray-700">
                                                                    For any queries/concerns about school bus transportation, please contact the transport coordinator by email transport @@ <b><a href="http://pearlschool.org/">pearlschool.org</a></b>. Any unsolved transport related issues could be escalated to the administration coordinator by email adminmgr @@ <b><a href="http://pearlschool.org/">pearlschool.org</a></b>.
                                                                </span>
                                                            </li>
                                                            <li class="my-2">
                                                                <span class="text-gray-700">
                                                                    If any parent intends to shift their location, they are requested to first check with the
                                                                    transport coordinator prior to shift their residence, whether transport is available from
                                                                    the new location. Only upon written confirmation from the transport coordinator and final
                                                                    approval by the principal such facility would be extended. It is to be noted that the transport
                                                                    department might not be able to accommodate the student route transfer if there is no
                                                                    vacancy in that bus or if no buses are plying in the new location, the school is not liable to
                                                                    provide transport in such cases.
                                                                </span>
                                                            </li>
                                                            <li class="my-2">
                                                                <span class="text-gray-700">
                                                                    The Late Permission / Short Leave (Early Pick up) Form should be filled and submitted by
                                                                    the parent in case of the ward being dropped late or being picked up before the dispersal.
                                                                </span>
                                                            </li>

                                                        </ul>
                                                    </div>


                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row gy-5 g-xl-10">
                        <div class="col-xl-4 mb-5 mb-xl-10">
                        </div>

                    </div>
                </div>

            </div><!--pageContent-->
        </div><!--pageContainer-->
    </section>
</div>



<style>
    .gfuSqG {
        box-sizing: border-box;
        border: 1px solid rgb(241, 245, 246);
        border-radius: 0px 0px 4px 4px;
        background-color: rgb(255, 255, 255);
        box-shadow: rgb(28 47 58 / 20%) -2px 3px 13px 0px;
        padding: 23px 17px 35px;
    }

    hr {
        margin-top: 1rem;
        margin-bottom: 1rem;
        border: 0;
        border-top: 1px solid rgba(0,0,0,.1);
    }
</style>
